(()=>{var e={};e.id=790,e.ids=[790],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},358:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},319:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>f,originalPathname:()=>h,pages:()=>m,routeModule:()=>x,tree:()=>u});var a=r(5067);r(4555),r(7121);var n=r(2933),l=r(1409),i=r(7301),o=r.n(i),c=r(7101),d={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);r.d(t,d);var p=e([a]);a=(p.then?(await p)():p)[0];let u=["",{children:["payment",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5067)),"/Users/yazeed/nextjs_patient/labass_patient/src/app/payment/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7977))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4555)),"/Users/yazeed/nextjs_patient/labass_patient/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7121,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7977))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],m=["/Users/yazeed/nextjs_patient/labass_patient/src/app/payment/page.tsx"],h="/payment/page",f={require:r,loadChunk:()=>Promise.resolve()},x=new n.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/payment/page",pathname:"/payment",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}});s()}catch(e){s(e)}})},7854:()=>{},6474:(e,t,r)=>{Promise.resolve().then(r.bind(r,7580))},8115:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2383,23)),Promise.resolve().then(r.t.bind(r,2928,23)),Promise.resolve().then(r.t.bind(r,983,23)),Promise.resolve().then(r.t.bind(r,7489,23)),Promise.resolve().then(r.t.bind(r,5232,23)),Promise.resolve().then(r.t.bind(r,6534,23))},9180:(e,t)=>{"use strict";var r=Symbol.for("react.element"),s=(Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.iterator,{isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}}),a=Object.assign,n={};function l(e,t,r){this.props=e,this.context=t,this.refs=n,this.updater=r||s}function i(){}function o(e,t,r){this.props=e,this.context=t,this.refs=n,this.updater=r||s}l.prototype.isReactComponent={},l.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},l.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},i.prototype=l.prototype;var c=o.prototype=new i;c.constructor=o,a(c,l.prototype),c.isPureReactComponent=!0;var d=Object.prototype.hasOwnProperty,p={current:null},u={key:!0,ref:!0,__self:!0,__source:!0};t.createElement=function(e,t,s){var a,n={},l=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)d.call(t,a)&&!u.hasOwnProperty(a)&&(n[a]=t[a]);var o=arguments.length-2;if(1===o)n.children=s;else if(1<o){for(var c=Array(o),m=0;m<o;m++)c[m]=arguments[m+2];n.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===n[a]&&(n[a]=o[a]);return{$$typeof:r,type:e,key:l,ref:i,props:n,_owner:p.current}}},8567:(e,t,r)=>{"use strict";e.exports=r(9180)},7580:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P});var s,a,n,l,i=r(7657),o=r(7123),c=r(1135);let d=()=>(0,i.jsxs)("div",{className:"bg-gray-100 text-black p-4 mt-2",dir:"rtl",children:[i.jsx("p",{children:"سيتم تحويلك الى طبيب عام خلال ثلاثة دقائق"}),i.jsx("h2",{className:"text-lg font-semibold mt-4",children:"طرق الدفع المتوفرة"}),(0,i.jsxs)("div",{className:"flex justify-around mt-4",children:[i.jsx(c.default,{src:"/icons/visa.svg",alt:"Visa",width:64,height:40}),i.jsx(c.default,{src:"/icons/mada.svg",alt:"Maestro",width:64,height:40}),i.jsx(c.default,{src:"/icons/mc.svg",alt:"Mastercard",width:64,height:40}),i.jsx(c.default,{src:"/icons/apple_pay.svg",alt:"Apple Pay",width:64,height:40})]})]});!function(e){e.Card="card",e.ApplePay="apple"}(s||(s={}));var p=r(8567);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(null,arguments)}let m=function(e){return p.createElement("svg",u({width:34,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a||(a=p.createElement("path",{d:"M20 13.5c-1.25 0-2.313-.438-3.188-1.313C15.938 11.313 15.5 10.25 15.5 9c0-1.25.438-2.313 1.313-3.188S18.75 4.5 20 4.5c1.25 0 2.313.438 3.188 1.313S24.5 7.75 24.5 9c0 1.25-.438 2.313-1.313 3.188-.875.874-1.937 1.312-3.187 1.312zM9.5 18a2.889 2.889 0 01-2.119-.881A2.89 2.89 0 016.5 15V3c0-.825.294-1.531.881-2.119A2.889 2.889 0 019.5 0h21c.825 0 1.531.294 2.119.881.587.588.881 1.294.881 2.119v12c0 .825-.294 1.531-.881 2.119A2.889 2.889 0 0130.5 18h-21zm3-3h15c0-.825.294-1.531.881-2.119A2.889 2.889 0 0130.5 12V6a2.889 2.889 0 01-2.119-.881A2.889 2.889 0 0127.5 3h-15c0 .825-.294 1.531-.881 2.119A2.89 2.89 0 019.5 6v6a2.89 2.89 0 012.119.881c.587.588.881 1.294.881 2.119zM29 24H3.5a2.889 2.889 0 01-2.119-.881A2.89 2.89 0 01.5 21V4.5h3V21H29v3z",fill:"#4DA514"})))};function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(null,arguments)}let f=function(e){return p.createElement("svg",h({width:42,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=p.createElement("g",{clipPath:"url(#apple_pay_svg__clip0_665_7006)"},p.createElement("path",{d:"M40.294 24H1.706A1.706 1.706 0 010 22.294V1.706C0 .764.764 0 1.706 0h38.588C41.236 0 42 .764 42 1.706v20.588c0 .942-.764 1.706-1.706 1.706z",fill:"#fff"}),p.createElement("path",{d:"M11.664 8.676c-.363.44-.944.785-1.526.736-.072-.594.212-1.225.545-1.614.364-.452 1-.773 1.514-.798.06.618-.175 1.225-.533 1.676zm.527.854c-.842-.05-1.562.488-1.962.488-.406 0-1.017-.464-1.683-.451-.866.012-1.672.513-2.114 1.31-.908 1.596-.236 3.959.642 5.258.43.643.945 1.348 1.623 1.323.642-.025.896-.427 1.671-.427.782 0 1.006.427 1.684.415.702-.013 1.144-.643 1.574-1.287.49-.73.69-1.44.703-1.478-.013-.012-1.357-.538-1.369-2.121-.012-1.324 1.06-1.954 1.108-1.992-.605-.915-1.55-1.014-1.877-1.038zm4.863-1.794v9.642h1.465V14.08h2.029c1.853 0 3.154-1.298 3.154-3.178s-1.277-3.167-3.106-3.167h-3.542zm1.465 1.262h1.69c1.271 0 1.998.692 1.998 1.91 0 1.219-.727 1.918-2.005 1.918H18.52V8.998zm7.86 8.454c.92 0 1.774-.476 2.162-1.23h.03v1.156h1.356v-4.8c0-1.391-1.09-2.288-2.767-2.288-1.556 0-2.707.91-2.75 2.159h1.32c.11-.594.649-.984 1.388-.984.896 0 1.398.427 1.398 1.213v.531l-1.828.112c-1.702.105-2.622.816-2.622 2.053 0 1.25.95 2.078 2.313 2.078zm.393-1.144c-.78 0-1.277-.384-1.277-.971 0-.606.478-.959 1.392-1.014l1.63-.106v.545c0 .903-.752 1.546-1.744 1.546zM31.739 20c1.429 0 2.101-.557 2.688-2.245L37 10.383h-1.49l-1.725 5.696h-.03l-1.727-5.696h-1.531l2.482 7.02-.133.426c-.224.724-.587 1.002-1.235 1.002-.115 0-.34-.012-.43-.025v1.157c.085.025.448.037.557.037z",fill:"#000"}))),l||(l=p.createElement("defs",null,p.createElement("clipPath",{id:"apple_pay_svg__clip0_665_7006"},p.createElement("path",{fill:"#fff",d:"M0 0h42v24H0z"})))))},x=({method:e,setMethod:t})=>(0,i.jsxs)("div",{className:"bg-white pt-4 pb-4 mx-4 mt-2 rounded-lg",dir:"rtl",children:[i.jsx("h2",{className:"text-lg font-semibold text-black pr-2",children:"اختر طريقة الدفع"}),(0,i.jsxs)("div",{className:"flex flex-col items-start justify-between mt-4 space-y-2",children:[(0,i.jsxs)("button",{onClick:()=>t(s.Card),className:"flex items-center justify-between p-2 w-full text-black",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-4 h-4 rounded-full ml-2 ${e===s.Card?"bg-custom-green":"bg-gray-400"}`}),"البطاقة الاتمانية"]}),i.jsx(m,{className:""})," "]}),i.jsx("div",{className:"w-full border-t border-gray-200"})," ",(0,i.jsxs)("button",{onClick:()=>t(s.ApplePay),className:"flex items-center justify-between p-2 w-full text-black",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-4 h-4 rounded-full ml-2 ${e===s.ApplePay?"bg-custom-green":"bg-gray-400"}`}),"ابل باي"]}),i.jsx(f,{className:""})," "]})]})]}),y=()=>(0,i.jsxs)("div",{className:"bg-gray-100 rounded-xl p-4 mt-4 mx-2 text-black",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{children:"75 SR"}),i.jsx("span",{children:"الاستشارة"})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[i.jsx("span",{children:"11.25 SR"}),i.jsx("span",{children:"الضريبة"})]}),(0,i.jsxs)("div",{className:"flex justify-between font-bold",children:[i.jsx("span",{children:"86.25 SR"}),i.jsx("span",{children:"المبلغ الاجمالي"})]})]});var b=r(6426),v=r(1784);let g=({method:e})=>{let t=(0,b.useRouter)(),[r,a]=(0,o.useState)(!1),n=(0,o.useRef)(null),l=(0,o.useRef)(!1),[c,d]=(0,o.useState)(!1);(0,o.useEffect)(()=>{if(e!==s.ApplePay||l.current){if(e!==s.ApplePay){let e=document.getElementById("apple-pay-container");e&&(e.innerHTML="",d(!1))}}else(()=>{let e=document.createElement("script");return e.src="https://demo.myfatoorah.com/applepay/v3/applepay.js",e.async=!0,document.body.appendChild(e),e.onload=()=>{console.log("Apple Pay script loaded successfully."),l.current=!0,n.current&&(window.myFatoorahAP.init(n.current),d(!0))},e.onerror=()=>{console.error("Error loading Apple Pay script.")},()=>{document.body.removeChild(e)}})()},[e]);let p=async()=>{if(!r){a(!0);try{let r=await v.Z.post("http://34.170.14.141:4000/api_labass/initiate-session",{InvoiceAmount:100,CurrencyIso:"KWD"});if(r.data.IsSuccess){let{SessionId:a,CountryCode:i}=r.data.Data;e===s.Card?t.push(`/cardDetails?sessionId=${a}&countryCode=${i}`):e===s.ApplePay&&(n.current={sessionId:a,countryCode:"KWT",currencyCode:"KWD",amount:"100",cardViewId:"apple-pay-container",callback:m,sessionStarted:h,sessionCanceled:f},l.current&&(window.myFatoorahAP.init(n.current),d(!0)))}else console.error("Failed to initiate session:",r.data.Message)}catch(e){console.error("Error initiating session:",e)}finally{a(!1)}}},u=async e=>{try{let t=await v.Z.post("http://34.170.14.141/api_labass/execute-payment",{SessionId:e,DisplayCurrencyIso:"KWD",InvoiceValue:120,CallBackUrl:"https://yoursite.com/success",ErrorUrl:"https://yoursite.com/error"},{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicm9sZSI6InBhdGllbnQiLCJwYXRpZW50UHJvZmlsZSI6eyJ1c2VyIjp7ImNyZWF0ZWRBdCI6IjIwMjQtMDgtMjlUMTk6MjE6MDguNjYzWiIsImlkIjoxLCJwaG9uZU51bWJlciI6Iis5NjY1OTE3MTcwMjQiLCJmaXJzdE5hbWUiOm51bGwsImxhc3ROYW1lIjpudWxsLCJlbWFpbCI6bnVsbCwiZ2VuZGVyIjpudWxsLCJuYXRpb25hbElkIjpudWxsLCJkYXRlT2ZCaXJ0aCI6bnVsbCwicmVnaXN0cmF0aW9uVG9rZW4iOm51bGwsInJvbGUiOiJwYXRpZW50In0sImlkIjoxfSwiaWF0IjoxNzI0OTU5MjY4fQ.YcDn0Fs8Dg9fLF_4LyYfb7z7OAwegHQLuf4AfHOBFGo"}});t.data.IsSuccess?console.log("Payment successful:",t.data):console.error("Payment failed:",t.data.Message)}catch(e){console.error("Error executing payment:",e)}},m=e=>{u(e.sessionId)},h=()=>{console.log("Session started")},f=()=>{console.log("Session canceled")};return(0,o.useEffect)(()=>{if(e===s.ApplePay){p();let e=document.getElementById("apple-pay-container");e&&(e.style.display="block")}},[e]),(0,i.jsxs)("div",{children:[i.jsx("div",{id:"apple-pay-container"}),e===s.Card&&i.jsx("button",{className:"sticky bottom-0 pb-4 w-full font-bold bg-custom-green text-white py-4 px-4 rounded-3xl",dir:"rtl",onClick:p,disabled:r,children:r?"Processing...":"الدفع"})]})},j=()=>{let[e,t]=(0,o.useState)("");return(0,i.jsxs)("div",{className:"relative flex  justify-around border-2 border-gray-300 rounded-md bg-white mx-2",children:[i.jsx("button",{onClick:()=>{console.log("Applying promo code:",e)},className:"px-4 bg-custom-background text-custom-green rounded-r-md",children:"استخدام"}),i.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"أدخل الرمز الترويجي",className:"flex-grow p-2 focus:outline-none rounded-l-md",dir:"rtl"})]})};var w=r(1774);let P=()=>{let[e,t]=(0,o.useState)(s.Card);return(0,i.jsxs)("div",{className:"bg-gray-100 min-h-screen flex flex-col",children:[i.jsx(w.default,{title:"ادفع",showBackButton:!0}),(0,i.jsxs)("div",{className:"pt-16 flex-grow overflow-auto",children:[i.jsx(d,{}),i.jsx(x,{method:e,setMethod:t}),i.jsx("div",{className:"my-4",children:i.jsx(j,{})}),i.jsx(y,{})]}),i.jsx("div",{className:"m-2 pb-4 sticky bottom-0",children:i.jsx(g,{method:e})})]})}},1774:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var s=r(7657);r(7123);var a=r(6426),n=r(2556);let l=({title:e,showBackButton:t=!1})=>{let r=(0,a.useRouter)();return(0,s.jsxs)("div",{className:"fixed top-0 w-full bg-white p-4 flex items-center justify-between z-10",children:[s.jsx("h1",{className:"text-lg text-gray-500 font-normal flex-grow text-center",children:e}),t&&s.jsx("button",{onClick:()=>r.back(),className:"ml-2",children:s.jsx(n.Z,{className:"h-5 w-5 text-gray-500","aria-hidden":"true"})})]})}},4394:(e,t,r)=>{"use strict";e.exports=r(8191).vendored.contexts.RouterContext},4555:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,metadata:()=>a});var s=r(5180);r(6004);let a={title:"Next.js",description:"Generated by Next.js"};function n({children:e}){return s.jsx("html",{lang:"ar",children:s.jsx("body",{children:e})})}},5067:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>e});var a=r(1903);let e=(await (0,a.createProxy)(String.raw`/Users/yazeed/nextjs_patient/labass_patient/src/app/payment/page.tsx`)).default;s()}catch(e){s(e)}},1)},7977:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(9047);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},6004:()=>{},2556:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(7123);let a=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[208,95,47,968,784,135],()=>r(319));module.exports=s})();