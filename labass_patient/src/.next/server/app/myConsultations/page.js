(()=>{var e={};e.id=449,e.ids=[449],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},358:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},2183:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>h,pages:()=>m,routeModule:()=>f,tree:()=>u});var a=s(7117);s(4555),s(7121);var l=s(2933),n=s(1409),i=s(7301),o=s.n(i),c=s(7101),d={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);s.d(t,d);var x=e([a]);a=(x.then?(await x)():x)[0];let u=["",{children:["myConsultations",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7117)),"/Users/yazeed/nextjs_patient/labass_patient/src/app/myConsultations/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7977))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,4555)),"/Users/yazeed/nextjs_patient/labass_patient/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7121,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7977))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],m=["/Users/yazeed/nextjs_patient/labass_patient/src/app/myConsultations/page.tsx"],h="/myConsultations/page",p={require:s,loadChunk:()=>Promise.resolve()},f=new l.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/myConsultations/page",pathname:"/myConsultations",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}});r()}catch(e){r(e)}})},7854:()=>{},7267:(e,t,s)=>{Promise.resolve().then(s.bind(s,1169))},8115:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2383,23)),Promise.resolve().then(s.t.bind(s,2928,23)),Promise.resolve().then(s.t.bind(s,983,23)),Promise.resolve().then(s.t.bind(s,7489,23)),Promise.resolve().then(s.t.bind(s,5232,23)),Promise.resolve().then(s.t.bind(s,6534,23))},1169:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var r=s(7657),a=s(7123),l=s(3594);let n=(0,l.Z)((0,r.jsx)("path",{d:"M18.39 14.56C16.71 13.7 14.53 13 12 13s-4.71.7-6.39 1.56C4.61 15.07 4 16.1 4 17.22V18c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-.78c0-1.12-.61-2.15-1.61-2.66M9.78 12h4.44c1.21 0 2.14-1.06 1.98-2.26l-.32-2.45C15.57 5.39 13.92 4 12 4S8.43 5.39 8.12 7.29L7.8 9.74c-.16 1.2.77 2.26 1.98 2.26"}),"Person2Rounded"),i=(0,l.Z)((0,r.jsx)("path",{d:"m22 3-1.67 1.67L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v18h20zM11 19H4v-6h7zm9 0h-7v-2h7zm0-4h-7v-2h7zm0-4H4V8h16z"}),"NewspaperSharp"),o=(0,l.Z)((0,r.jsx)("path",{d:"M18.39 14.56C16.71 13.7 14.53 13 12 13s-4.71.7-6.39 1.56C4.61 15.07 4 16.1 4 17.22V20h16v-2.78c0-1.12-.61-2.15-1.61-2.66M18 18H6v-.78c0-.38.2-.72.52-.88C7.71 15.73 9.63 15 12 15c2.37 0 4.29.73 5.48 1.34.32.16.52.5.52.88zm-8.22-6h4.44c1.21 0 2.14-1.06 1.98-2.26l-.32-2.45C15.57 5.39 13.92 4 12 4S8.43 5.39 8.12 7.29L7.8 9.74c-.16 1.2.77 2.26 1.98 2.26m.32-4.41C10.26 6.67 11.06 6 12 6s1.74.67 1.9 1.59l.32 2.41H9.78z"}),"Person2Outlined"),c=a.forwardRef(function({title:e,titleId:t,...s},r){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?a.createElement("title",{id:t},e):null,a.createElement("path",{fillRule:"evenodd",d:"M5.337 21.718a6.707 6.707 0 0 1-.533-.074.75.75 0 0 1-.44-1.223 3.73 3.73 0 0 0 .814-1.686c.023-.115-.022-.317-.254-.543C3.274 16.587 2.25 14.41 2.25 12c0-5.03 4.428-9 9.75-9s9.75 3.97 9.75 9c0 5.03-4.428 9-9.75 9-.833 0-1.643-.097-2.417-.279a6.721 6.721 0 0 1-4.246.997Z",clipRule:"evenodd"}))}),d=({consultation:e,onSelect:t,onChatClick:s})=>{let a=()=>s(e.id),l=new Date(e.createdAt).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return r.jsx("div",{onClick:()=>t(e.id),className:"flex p-2 m-2 rounded-lg border shadow border-gray-300 bg-white",children:(0,r.jsxs)("div",{className:"w-full flex flex-col justify-between",dir:"rtl",children:[(0,r.jsxs)("div",{className:"flex flex-row justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex flex-row",children:[r.jsx(n,{className:"text-gray-400"}),r.jsx("h3",{className:"font-bold text-md text-black",dir:"rtl",children:`د. ${e.patient.user.firstName||""} ${e.id}`})]}),(0,r.jsxs)("p",{className:"bg-orange-100 p-2 text-black rounded-3xl text-xs font-medium",children:["Status: ",e.status]})]}),e.doctor&&r.jsx("p",{children:`Doctor: ${e.doctor.user.firstName} ${e.doctor.user.lastName}`}),r.jsx("div",{className:"flex",children:(0,r.jsxs)("p",{className:"text-gray-500 text-sm",children:["Date: ",l]})}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center mt-4 space-y-2",children:["PendingPayment"===e.status&&(0,r.jsxs)("button",{className:"flex items-center justify-center w-full p-2 bg-custom-green text-sm text-white font-bold rounded-lg",onClick:a,children:[r.jsx("span",{className:"ml-2",children:"مراسله"}),r.jsx(c,{className:"text-white w-4"})]}),"Completed"===e.status&&(0,r.jsxs)("button",{className:"flex items-center justify-center w-full p-2 bg-blue-500 text-sm text-white font-bold rounded-lg",onClick:a,children:[r.jsx(c,{className:"text-white w-4"}),r.jsx("span",{className:"ml-2",children:"Completed"})]}),"Cancelled"===e.status&&(0,r.jsxs)("button",{className:"flex items-center justify-center w-full p-2 bg-red-500 text-sm text-white font-bold rounded-lg",onClick:a,children:[r.jsx(c,{className:"text-white w-6"}),r.jsx("span",{className:"ml-2",children:"Cancelled"})]})]}),(0,r.jsxs)("div",{className:"flex flex-row flex-wrap justify-start gap-2 mt-4 text-sm",dir:"rtl",children:[e.hasPrescription&&(0,r.jsxs)("button",{className:"flex items-center border border-gray-300 rounded-lg p-2",onClick:()=>t(e.id),children:[r.jsx(i,{className:"text-gray-400 mr-2"}),r.jsx("span",{className:"text-gray-700",children:"الوصفة الطبية"})]}),e.hasSOAP&&(0,r.jsxs)("button",{className:"flex items-center border border-gray-300 rounded-lg p-2",onClick:()=>t(e.id),children:[r.jsx(o,{className:"text-gray-400 mr-2"}),r.jsx("span",{className:"text-gray-700",children:"SOAP Available"})]}),e.hasSickLeave&&(0,r.jsxs)("button",{className:"flex items-center border border-gray-300 rounded-lg p-2",onClick:()=>t(e.id),children:[r.jsx(o,{className:"text-gray-400 mr-2"}),r.jsx("span",{className:"text-gray-700",children:"Sick Leave Available"})]})]})]})})};var x=s(3086),u=s(1774),m=s(6426),h=s(1784);let p=async()=>{try{let e=localStorage.getItem("labass_token");if(!e)throw Error("No token found");return(await h.Z.get(`${process.env.NEXT_PUBLIC_API_URL}/consultations`,{headers:{Authorization:`Bearer ${e}`}})).data.reverse()}catch(e){return console.error("Error fetching consultations:",e),[]}},f=()=>{let e=(0,m.usePathname)(),[t,s]=(0,a.useState)([]),[l,n]=(0,a.useState)(!1),[i,o]=(0,a.useState)("");return(0,a.useEffect)(()=>{(async()=>{n(!0);try{let e=await p();s(e)}catch(e){console.log(`${e}`),o("Failed to fetch data. ")}finally{n(!1)}})()},[]),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[r.jsx(u.default,{title:"استشاراتي"}),r.jsx("div",{className:"pt-16",children:l?r.jsx("p",{className:"text-center",children:"Loading..."}):i?r.jsx("p",{className:"text-red-500 text-center",children:i}):t.map(e=>r.jsx(d,{consultation:e,onSelect:e=>console.log("Selected consultation ID:",e),onChatClick:e=>console.log("Chat clicked for ID:",e)},e.id))}),r.jsx(x.default,{currentPath:e})]})}},3086:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(7657),a=s(9835),l=s(4508),n=s(2159),i=s(9909);s(7123);let o=({href:e,icon:t,label:s,active:a})=>(0,r.jsxs)(i.default,{href:e,className:"flex flex-col items-center text-center",passHref:!0,children:[r.jsx(t,{className:`h-5 w-20 ${a?"text-green-700":"text-gray-400"}`}),r.jsx("span",{className:`${a?"text-green-700 text-sm":"text-gray-400 text-xs"} hover:text-green-700`,children:s})]}),c=({currentPath:e})=>(0,r.jsxs)("nav",{className:"flex fixed inset-x-0 bottom-0 bg-white shadow-md px-4 py-2 justify-around items-center text-sm text-gray-800 border-t",children:[r.jsx(o,{href:"/profile",icon:a.Z,label:"المزيد",active:"/profile"===e}),r.jsx(o,{href:"/myConsultations",icon:l.Z,label:"استشاراتي",active:"/myConsultations"===e}),r.jsx(o,{href:"/",icon:n.Z,label:"الرئيسية",active:"/"===e})]})},1774:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(7657);s(7123);var a=s(6426),l=s(2556);let n=({title:e,showBackButton:t=!1})=>{let s=(0,a.useRouter)();return(0,r.jsxs)("div",{className:"fixed top-0 w-full bg-white p-4 flex items-center justify-between z-10",children:[r.jsx("h1",{className:"text-lg text-gray-500 font-normal flex-grow text-center",children:e}),t&&r.jsx("button",{onClick:()=>s.back(),className:"ml-2",children:r.jsx(l.Z,{className:"h-5 w-5 text-gray-500","aria-hidden":"true"})})]})}},4555:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>a});var r=s(5180);s(6004);let a={title:"Next.js",description:"Generated by Next.js"};function l({children:e}){return r.jsx("html",{lang:"ar",children:r.jsx("body",{children:e})})}},7117:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>e});var a=s(1903);let e=(await (0,a.createProxy)(String.raw`/Users/yazeed/nextjs_patient/labass_patient/src/app/myConsultations/page.tsx`)).default;r()}catch(e){r(e)}},1)},7977:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(9047);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},6004:()=>{},2556:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(7123);let a=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))})}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[208,95,47,968,784,594,992],()=>s(2183));module.exports=r})();