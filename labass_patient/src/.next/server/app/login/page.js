(()=>{var e={};e.id=326,e.ids=[326],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},358:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},487:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>x,routeModule:()=>g,tree:()=>p});var a=s(5764);s(4555),s(7121);var i=s(2933),n=s(1409),o=s(7301),l=s.n(o),c=s(7101),u={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>c[e]);s.d(t,u);var d=e([a]);a=(d.then?(await d)():d)[0];let p=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5764)),"/Users/yazeed/nextjs_patient/labass_patient/src/app/login/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7977))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,4555)),"/Users/yazeed/nextjs_patient/labass_patient/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7121,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,7977))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],x=["/Users/yazeed/nextjs_patient/labass_patient/src/app/login/page.tsx"],m="/login/page",h={require:s,loadChunk:()=>Promise.resolve()},g=new i.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}});r()}catch(e){r(e)}})},7854:()=>{},6188:(e,t,s)=>{Promise.resolve().then(s.bind(s,2428))},8115:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2383,23)),Promise.resolve().then(s.t.bind(s,2928,23)),Promise.resolve().then(s.t.bind(s,983,23)),Promise.resolve().then(s.t.bind(s,7489,23)),Promise.resolve().then(s.t.bind(s,5232,23)),Promise.resolve().then(s.t.bind(s,6534,23))},2428:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(7657),a=s(7123),i=s(6426),n=s(2274);let o=e=>{let t={"٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9"};return e.replace(/[٠١٢٣٤٥٦٧٨٩]/g,e=>t[e])},l=()=>{let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[c,u]=(0,a.useState)(!1),d=(0,i.useRouter)(),p=async t=>{if(t.preventDefault(),u(!0),10!==e.length){l("يرجى إدخال رقم جوال صحيح مكون من 10 أرقام"),u(!1);return}let s=e.startsWith("0")?e.slice(1):e,r=await (0,n.m)(s);u(!1),r.success?(console.log(`the result from login is ${r}`),d.push(`/otp?phoneNumber=%2B966${s}`)):l(r.message)};return(0,r.jsxs)("div",{className:"flex flex-col h-screen justify-between",children:[(0,r.jsxs)("form",{onSubmit:p,className:"text-right m-2",id:"loginForm",children:[r.jsx("label",{htmlFor:"phoneNumber",className:"block m-2",children:"أدخل رقم الجوال"}),r.jsx("input",{id:"phoneNumber",type:"tel",value:e,onChange:e=>{t(o(e.target.value)),l("")},placeholder:"05xxxxxxx",required:!0,className:"w-full p-3 text-right text-lg border-2 border-gray-300 rounded-md focus:outline-none focus:border-custom-green direction-rtl"}),s&&r.jsx("div",{className:"text-red-500 text-sm m-2",children:s})]}),(0,r.jsxs)("div",{className:"p-6 mb-60",children:[(0,r.jsxs)("div",{className:"text-xs text-right",children:["مع الاستمرار بتسجيل الدخول، أنت توافق على"," ",r.jsx("a",{href:"/terms",className:"underline text-custom-green",children:"الشروط والأحكام"})]}),r.jsx("button",{type:"submit",form:"loginForm",className:"mt-2 px-6 py-4 w-full bg-custom-green text-white font-bold text-sm rounded-md focus:outline-none flex justify-center items-center",disabled:c,children:c?r.jsx("div",{className:"spinner"}):"تسجيل الدخول"})]})]})}},2274:(e,t,s)=>{"use strict";s.d(t,{m:()=>a});var r=s(1784);let a=async e=>{try{let t=e.startsWith("+966")?e:`+966${e}`,s=process.env.NEXT_PUBLIC_API_URL,a=await r.Z.post(`${s}/send-otp`,{phoneNumber:t,role:"patient"});if(200===a.status)return{success:!0};return{success:!1,message:"Unexpected response status code"}}catch(e){if(r.Z.isAxiosError(e)&&e.response&&e.response.data)return{success:!1,message:e.response.data.error||"حدث خطأ ، حاول مرة أخرى"};return{success:!1,message:"حدث خطأ ، حاول مرة أخرى"}}}},4555:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>a});var r=s(5180);s(6004);let a={title:"Next.js",description:"Generated by Next.js"};function i({children:e}){return r.jsx("html",{lang:"ar",children:r.jsx("body",{children:e})})}},4211:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{Z:()=>e});var a=s(1903);let e=(await (0,a.createProxy)(String.raw`/Users/yazeed/nextjs_patient/labass_patient/src/app/login/_components/login/form.tsx`)).default;r()}catch(e){r(e)}},1)},5764:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>o});var a=s(5180);s(2645);var i=s(4211),n=e([i]);i=(n.then?(await n)():n)[0];let o=()=>(0,a.jsxs)("div",{className:"flex flex-col justify-between text-lg text-black bg-white min-h-screen rtl",style:{overflow:"hidden",height:"100vh"},children:[a.jsx("h1",{className:"text-right text-bold text-4xl m-6",children:"تسجيل الدخول"}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(i.Z,{})})]});r()}catch(e){r(e)}})},7977:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(9047);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},6004:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[208,95,47,968,784],()=>s(487));module.exports=r})();