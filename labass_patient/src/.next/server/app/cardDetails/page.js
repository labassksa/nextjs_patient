(()=>{var e={};e.id=177,e.ids=[177],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},2361:e=>{"use strict";e.exports=require("events")},358:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6760:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>m,routeModule:()=>y,tree:()=>p});var a=r(3733);r(5797),r(4555),r(7121);var i=r(2933),n=r(1409),o=r(7301),l=r.n(o),d=r(7101),c={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>d[e]);r.d(t,c);var u=e([a]);a=(u.then?(await u)():u)[0];let p=["",{children:["cardDetails",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3733)),"/Users/yazeed/nextjs_patient/labass_patient/src/app/cardDetails/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,5797)),"/Users/yazeed/nextjs_patient/labass_patient/src/app/cardDetails/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7977))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,4555)),"/Users/yazeed/nextjs_patient/labass_patient/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7121,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,7977))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],m=["/Users/yazeed/nextjs_patient/labass_patient/src/app/cardDetails/page.tsx"],x="/cardDetails/page",h={require:r,loadChunk:()=>Promise.resolve()},y=new i.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/cardDetails/page",pathname:"/cardDetails",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}});s()}catch(e){s(e)}})},7885:(e,t,r)=>{Promise.resolve().then(r.bind(r,2414))},7854:()=>{},8115:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2383,23)),Promise.resolve().then(r.t.bind(r,2928,23)),Promise.resolve().then(r.t.bind(r,983,23)),Promise.resolve().then(r.t.bind(r,7489,23)),Promise.resolve().then(r.t.bind(r,5232,23)),Promise.resolve().then(r.t.bind(r,6534,23))},5391:()=>{},2414:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(7657),a=r(7123),i=r(6426),n=r(1784),o=r(1774);let l=()=>{let e=(0,i.useSearchParams)(),t=e.get("sessionId"),r=e.get("countryCode"),l=(0,a.useRef)(!1),[d,c]=(0,a.useState)(!1);(0,a.useEffect)(()=>{},[t,r]);let u=async()=>{if(console.log("Submitting payment..."),!window.myFatoorah||"function"!=typeof window.myFatoorah.submit){console.error("window.myFatoorah.submit is not available.");return}try{let e=await window.myFatoorah.submit();if(console.log("Submit response received:",e),e){let t=localStorage.getItem("labass_token");if(!t){console.error("Token not found in localStorage.");return}try{let r=await n.Z.post("http://34.170.14.141:4000/api_labass/execute-payment",{SessionId:e.sessionId,DisplayCurrencyIso:"KWD",InvoiceValue:101,CallBackUrl:"https://yoursite.com/success",ErrorUrl:"https://yoursite.com/error"},{headers:{Authorization:`Bearer ${t}`}});r.data.IsSuccess?(console.log(`Payment URL: ${r.data.Data.PaymentURL}`),p(r.data.Data.PaymentURL)):console.error("Execute payment failed:",r.data.Message)}catch(e){console.error("Error executing payment:",e)}}else console.error("Payment submission failed:",e)}catch(e){console.error("Payment error:",e)}},p=e=>{let t=`${e}&iframeEnabled=true`;document.body.innerHTML="";let r=document.createElement("iframe");r.src=t,r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.border="none",r.style.zIndex="9999",document.body.appendChild(r)};return(0,s.jsxs)("div",{className:"bg-gray-100 min-h-screen flex flex-col justify-between ",children:[s.jsx("script",{src:"https://demo.myfatoorah.com/cardview/v2/session.js",defer:!0,onLoad:()=>{l.current||(console.log("Initializing MyFatoorah with:",{countryCode:r,sessionId:t}),window.myFatoorah.init({countryCode:r,sessionId:t,cardViewId:"card-element",supportedNetworks:"v,m,md,ae"}),console.log("MyFatoorah initialized successfully."),l.current=!0,c(!0))}}),s.jsx(o.default,{title:"ادفع",showBackButton:!0}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"flex flex-row text-black text-lg font-bold mb-4 mt-16",dir:"rtl",children:"أدخل معلومات البطاقة"}),s.jsx("div",{className:"w-full max-w-md bg-white p-6 rounded-lg shadow-md",children:s.jsx("div",{className:"bg-white",children:s.jsx("div",{id:"card-element"})})})]}),s.jsx("div",{children:s.jsx("button",{className:"bg-custom-green w-full text-white py-2 px-4 rounded mt-4",onClick:u,disabled:!d,children:"ادفع"})})]})},d=()=>s.jsx(a.Suspense,{fallback:s.jsx("div",{children:"Loading..."}),children:s.jsx(l,{})})},1774:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});var s=r(7657);r(7123);var a=r(6426),i=r(2556);let n=({title:e,showBackButton:t=!1})=>{let r=(0,a.useRouter)();return(0,s.jsxs)("div",{className:"fixed top-0 w-full bg-white p-4 flex items-center justify-between z-10",children:[s.jsx("h1",{className:"text-lg text-gray-500 font-normal flex-grow text-center",children:e}),t&&s.jsx("button",{onClick:()=>r.back(),className:"ml-2",children:s.jsx(i.Z,{className:"h-5 w-5 text-gray-500","aria-hidden":"true"})})]})}},5797:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(5180);r(2645);let a=({children:e})=>s.jsx(s.Fragment,{children:e})},3733:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>e});var a=r(1903);let e=(await (0,a.createProxy)(String.raw`/Users/yazeed/nextjs_patient/labass_patient/src/app/cardDetails/page.tsx`)).default;s()}catch(e){s(e)}},1)},4555:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>a});var s=r(5180);r(6004);let a={title:"Next.js",description:"Generated by Next.js"};function i({children:e}){return s.jsx("html",{lang:"ar",children:s.jsx("body",{children:e})})}},7977:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(9047);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},6004:()=>{},2556:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(7123);let a=s.forwardRef(function({title:e,titleId:t,...r},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))})}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[208,95,47,968,784],()=>r(6760));module.exports=s})();