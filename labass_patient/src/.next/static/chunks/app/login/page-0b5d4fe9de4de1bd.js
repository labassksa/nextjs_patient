(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[326],{8214:function(e,t,s){Promise.resolve().then(s.bind(s,7943))},7943:function(e,t,s){"use strict";s.d(t,{default:function(){return u}});var r=s(4888),n=s(9318),c=s(7701),o=s(6276);let a=e=>{let t={"٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9"};return e.replace(/[٠١٢٣٤٥٦٧٨٩]/g,e=>t[e])};var u=()=>{let[e,t]=(0,n.useState)(""),[s,u]=(0,n.useState)(""),[l,i]=(0,n.useState)(!1),m=(0,c.useRouter)(),d=async t=>{if(t.preventDefault(),i(!0),10!==e.length){u("يرجى إدخال رقم جوال صحيح مكون من 10 أرقام"),i(!1);return}let s=e.startsWith("0")?e.slice(1):e,r=await (0,o.m)(s);i(!1),r.success?(console.log("the result from login is ".concat(r)),m.push("/otp?phoneNumber=%2B966".concat(s))):u(r.message)};return(0,r.jsxs)("div",{className:"flex flex-col h-screen justify-between",children:[(0,r.jsxs)("form",{onSubmit:d,className:"text-right m-2",id:"loginForm",children:[(0,r.jsx)("label",{htmlFor:"phoneNumber",className:"block m-2",children:"أدخل رقم الجوال"}),(0,r.jsx)("input",{id:"phoneNumber",type:"tel",value:e,onChange:e=>{t(a(e.target.value)),u("")},placeholder:"05xxxxxxx",required:!0,className:"w-full p-3 text-right text-lg border-2 border-gray-300 rounded-md focus:outline-none focus:border-custom-green direction-rtl"}),s&&(0,r.jsx)("div",{className:"text-red-500 text-sm m-2",children:s})]}),(0,r.jsxs)("div",{className:"p-6 mb-60",children:[(0,r.jsxs)("div",{className:"text-xs text-right",children:["مع الاستمرار بتسجيل الدخول، أنت توافق على"," ",(0,r.jsx)("a",{href:"/terms",className:"underline text-custom-green",children:"الشروط والأحكام"})]}),(0,r.jsx)("button",{type:"submit",form:"loginForm",className:"mt-2 px-6 py-4 w-full bg-custom-green text-white font-bold text-sm rounded-md focus:outline-none flex justify-center items-center",disabled:l,children:l?(0,r.jsx)("div",{className:"spinner"}):"تسجيل الدخول"})]})]})}},6276:function(e,t,s){"use strict";s.d(t,{m:function(){return c}});var r=s(969),n=s(1086);let c=async e=>{try{let t=e.startsWith("+966")?e:"+966".concat(e),s=n.env.NEXT_PUBLIC_API_URL,c=await r.Z.post("".concat(s,"/send-otp"),{phoneNumber:t,role:"patient"});if(200===c.status)return{success:!0};return{success:!1,message:"Unexpected response status code"}}catch(e){if(r.Z.isAxiosError(e)&&e.response&&e.response.data)return{success:!1,message:e.response.data.error||"حدث خطأ ، حاول مرة أخرى"};return{success:!1,message:"حدث خطأ ، حاول مرة أخرى"}}}}},function(e){e.O(0,[927,969,419,248,744],function(){return e(e.s=8214)}),_N_E=e.O()}]);