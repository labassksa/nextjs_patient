(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[449],{4806:function(e,t,s){Promise.resolve().then(s.bind(s,7204))},7204:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(4888),l=s(9318),r=s(8278),n=(0,r.Z)((0,a.jsx)("path",{d:"M18.39 14.56C16.71 13.7 14.53 13 12 13s-4.71.7-6.39 1.56C4.61 15.07 4 16.1 4 17.22V18c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-.78c0-1.12-.61-2.15-1.61-2.66M9.78 12h4.44c1.21 0 2.14-1.06 1.98-2.26l-.32-2.45C15.57 5.39 13.92 4 12 4S8.43 5.39 8.12 7.29L7.8 9.74c-.16 1.2.77 2.26 1.98 2.26"}),"Person2Rounded"),c=(0,r.Z)((0,a.jsx)("path",{d:"m22 3-1.67 1.67L18.67 3 17 4.67 15.33 3l-1.66 1.67L12 3l-1.67 1.67L8.67 3 7 4.67 5.33 3 3.67 4.67 2 3v18h20zM11 19H4v-6h7zm9 0h-7v-2h7zm0-4h-7v-2h7zm0-4H4V8h16z"}),"NewspaperSharp"),i=(0,r.Z)((0,a.jsx)("path",{d:"M18.39 14.56C16.71 13.7 14.53 13 12 13s-4.71.7-6.39 1.56C4.61 15.07 4 16.1 4 17.22V20h16v-2.78c0-1.12-.61-2.15-1.61-2.66M18 18H6v-.78c0-.38.2-.72.52-.88C7.71 15.73 9.63 15 12 15c2.37 0 4.29.73 5.48 1.34.32.16.52.5.52.88zm-8.22-6h4.44c1.21 0 2.14-1.06 1.98-2.26l-.32-2.45C15.57 5.39 13.92 4 12 4S8.43 5.39 8.12 7.29L7.8 9.74c-.16 1.2.77 2.26 1.98 2.26m.32-4.41C10.26 6.67 11.06 6 12 6s1.74.67 1.9 1.59l.32 2.41H9.78z"}),"Person2Outlined");let o=l.forwardRef(function(e,t){let{title:s,titleId:a,...r}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},r),s?l.createElement("title",{id:a},s):null,l.createElement("path",{fillRule:"evenodd",d:"M5.337 21.718a6.707 6.707 0 0 1-.533-.074.75.75 0 0 1-.44-1.223 3.73 3.73 0 0 0 .814-1.686c.023-.115-.022-.317-.254-.543C3.274 16.587 2.25 14.41 2.25 12c0-5.03 4.428-9 9.75-9s9.75 3.97 9.75 9c0 5.03-4.428 9-9.75 9-.833 0-1.643-.097-2.417-.279a6.721 6.721 0 0 1-4.246.997Z",clipRule:"evenodd"}))});var d=e=>{let{consultation:t,onSelect:s,onChatClick:l}=e,r=()=>l(t.id),d=new Date(t.createdAt).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0});return(0,a.jsx)("div",{onClick:()=>s(t.id),className:"flex p-2 m-2 rounded-lg border shadow border-gray-300 bg-white",children:(0,a.jsxs)("div",{className:"w-full flex flex-col justify-between",dir:"rtl",children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex flex-row",children:[(0,a.jsx)(n,{className:"text-gray-400"}),(0,a.jsx)("h3",{className:"font-bold text-md text-black",dir:"rtl",children:"د. ".concat(t.patient.user.firstName||""," ").concat(t.id)})]}),(0,a.jsxs)("p",{className:"bg-orange-100 p-2 text-black rounded-3xl text-xs font-medium",children:["Status: ",t.status]})]}),t.doctor&&(0,a.jsx)("p",{children:"Doctor: ".concat(t.doctor.user.firstName," ").concat(t.doctor.user.lastName)}),(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("p",{className:"text-gray-500 text-sm",children:["Date: ",d]})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center mt-4 space-y-2",children:["PendingPayment"===t.status&&(0,a.jsxs)("button",{className:"flex items-center justify-center w-full p-2 bg-custom-green text-sm text-white font-bold rounded-lg",onClick:r,children:[(0,a.jsx)("span",{className:"ml-2",children:"مراسله"}),(0,a.jsx)(o,{className:"text-white w-4"})]}),"Completed"===t.status&&(0,a.jsxs)("button",{className:"flex items-center justify-center w-full p-2 bg-blue-500 text-sm text-white font-bold rounded-lg",onClick:r,children:[(0,a.jsx)(o,{className:"text-white w-4"}),(0,a.jsx)("span",{className:"ml-2",children:"Completed"})]}),"Cancelled"===t.status&&(0,a.jsxs)("button",{className:"flex items-center justify-center w-full p-2 bg-red-500 text-sm text-white font-bold rounded-lg",onClick:r,children:[(0,a.jsx)(o,{className:"text-white w-6"}),(0,a.jsx)("span",{className:"ml-2",children:"Cancelled"})]})]}),(0,a.jsxs)("div",{className:"flex flex-row flex-wrap justify-start gap-2 mt-4 text-sm",dir:"rtl",children:[t.hasPrescription&&(0,a.jsxs)("button",{className:"flex items-center border border-gray-300 rounded-lg p-2",onClick:()=>s(t.id),children:[(0,a.jsx)(c,{className:"text-gray-400 mr-2"}),(0,a.jsx)("span",{className:"text-gray-700",children:"الوصفة الطبية"})]}),t.hasSOAP&&(0,a.jsxs)("button",{className:"flex items-center border border-gray-300 rounded-lg p-2",onClick:()=>s(t.id),children:[(0,a.jsx)(i,{className:"text-gray-400 mr-2"}),(0,a.jsx)("span",{className:"text-gray-700",children:"SOAP Available"})]}),t.hasSickLeave&&(0,a.jsxs)("button",{className:"flex items-center border border-gray-300 rounded-lg p-2",onClick:()=>s(t.id),children:[(0,a.jsx)(i,{className:"text-gray-400 mr-2"}),(0,a.jsx)("span",{className:"text-gray-700",children:"Sick Leave Available"})]})]})]})})},x=s(6246),u=s(6300),m=s(7701),h=s(969),f=s(1086);let g=async()=>{try{let e=localStorage.getItem("labass_token");if(!e)throw Error("No token found");return(await h.Z.get("".concat(f.env.NEXT_PUBLIC_API_URL,"/consultations"),{headers:{Authorization:"Bearer ".concat(e)}})).data.reverse()}catch(e){return console.error("Error fetching consultations:",e),[]}};var j=()=>{let e=(0,m.usePathname)(),[t,s]=(0,l.useState)([]),[r,n]=(0,l.useState)(!1),[c,i]=(0,l.useState)("");return(0,l.useEffect)(()=>{(async()=>{n(!0);try{let e=await g();s(e)}catch(e){console.log("".concat(e)),i("Failed to fetch data. ")}finally{n(!1)}})()},[]),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsx)(u.default,{title:"استشاراتي"}),(0,a.jsx)("div",{className:"pt-16",children:r?(0,a.jsx)("p",{className:"text-center",children:"Loading..."}):c?(0,a.jsx)("p",{className:"text-red-500 text-center",children:c}):t.map(e=>(0,a.jsx)(d,{consultation:e,onSelect:e=>console.log("Selected consultation ID:",e),onChatClick:e=>console.log("Chat clicked for ID:",e)},e.id))}),(0,a.jsx)(x.default,{currentPath:e})]})}},6246:function(e,t,s){"use strict";s.d(t,{default:function(){return o}});var a=s(4888),l=s(971),r=s(979),n=s(6807),c=s(5695);s(9318);var i=e=>{let{href:t,icon:s,label:l,active:r}=e;return(0,a.jsxs)(c.default,{href:t,className:"flex flex-col items-center text-center",passHref:!0,children:[(0,a.jsx)(s,{className:"h-5 w-20 ".concat(r?"text-green-700":"text-gray-400")}),(0,a.jsx)("span",{className:"".concat(r?"text-green-700 text-sm":"text-gray-400 text-xs"," hover:text-green-700"),children:l})]})},o=e=>{let{currentPath:t}=e;return(0,a.jsxs)("nav",{className:"flex fixed inset-x-0 bottom-0 bg-white shadow-md px-4 py-2 justify-around items-center text-sm text-gray-800 border-t",children:[(0,a.jsx)(i,{href:"/profile",icon:l.Z,label:"المزيد",active:"/profile"===t}),(0,a.jsx)(i,{href:"/myConsultations",icon:r.Z,label:"استشاراتي",active:"/myConsultations"===t}),(0,a.jsx)(i,{href:"/",icon:n.Z,label:"الرئيسية",active:"/"===t})]})}},6300:function(e,t,s){"use strict";var a=s(4888);s(9318);var l=s(7701),r=s(4517);t.default=e=>{let{title:t,showBackButton:s=!1}=e,n=(0,l.useRouter)();return(0,a.jsxs)("div",{className:"fixed top-0 w-full bg-white p-4 flex items-center justify-between z-10",children:[(0,a.jsx)("h1",{className:"text-lg text-gray-500 font-normal flex-grow text-center",children:t}),s&&(0,a.jsx)("button",{onClick:()=>n.back(),className:"ml-2",children:(0,a.jsx)(r.Z,{className:"h-5 w-5 text-gray-500","aria-hidden":"true"})})]})}},4517:function(e,t,s){"use strict";var a=s(9318);let l=a.forwardRef(function(e,t){let{title:s,titleId:l,...r}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},r),s?a.createElement("title",{id:l},s):null,a.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))});t.Z=l}},function(e){e.O(0,[927,969,278,325,419,248,744],function(){return e(e.s=4806)}),_N_E=e.O()}]);